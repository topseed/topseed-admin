doctype html
html
	head
		include _header
		block head

		// ha ha !!:
		style.
			html { visibility: hidden; }

	body
		script(src='//cdn.jsdelivr.net/npm/loadjs@3.5.2/dist/loadjs.js')

		//side menu shell
		include _top
		//container
		.pusher

			// pushed state
			block main

		script(src='/_comp/setup.js')
		script.
			console.log('shell')

			loadjs.ready('PRELoadB', function() {
				console.log('loaded setup') // dependencies 
				loadjs([
					//'//cdn.jsdelivr.net/npm/semantic-ui@2.3.0/dist/semantic.css'
					//,'//cdn.jsdelivr.net/npm/semantic-ui@2.3.0/dist/semantic.js'
					//'/sui/semantic.min.css'
					//,'/sui/semantic.min.js'
					'/sui/components/reset.min.css'
					,'/sui/components/site.min.css'
					,'/sui/components/container.min.css'
					,'/sui/components/grid.min.css'
					,'/sui/components/header.min.css'
					,'/sui/components/image.min.css'
					,'/sui/components/menu.min.css'
					,'/sui/components/divider.min.css'
					,'/sui/components/list.min.css'
					,'/sui/components/segment.min.css'
					,'/sui/components/dropdown.min.css'
					,'/sui/components/icon.min.css'
					,'/sui/components/sidebar.min.css'
					,'/sui/components/sidebar.min.js'
					,'/sui/components/button.min.css'
					], 'sema', {  
						success: function() {
							// create sidebar and attach to menu open
							$('.ui.sidebar').sidebar('attach events', '.toc.item')
							//setTimeout(function () {
								document.getElementsByTagName('html')[0].style.visibility = 'visible'
								console.log('style ready')
							//}, 10)
						}
					})
				//js
				 WebFont.load({	google: {
						families: ['Open Sans:300']
					}
				})//wf	
			})//ready

		//pg scripts
		block scripts
